<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JS Fetch Demo 1</title>
</head>
<body>
  <img src="" id="computer" width="480" alt="">
  <script>
    /* Use JS Fetch to get image data and convert it to an image element
       using async and await. Async and Await can be used to condense
       .then() code to make it more readable.
       
       --- Await keyword can only be used inside Async functions
       --- Async functions by definition return a promise */
    const imageURL = "https://images.unsplash.com/photo-1587620962725-abab7fe55159"
    console.log('Fetching computer image')

    async function getImage() {
      // Await result of the fetch and store it in response
      const response = await fetch(imageURL)
      const blob = await response.blob(); // Convert response to blob
      // Convert blob to propert HTML object URL
      document.getElementById("computer").src = URL.createObjectURL(blob)
    }

    getImage()
      .then(response => {
        console.log('Done') // Process works

      }).catch(error => {
        console.log('Error message:') // Indicate Error
        console.log(error)
      })
</script>
</body>
</html>